<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>Dark Mode : Javascript Bookmark</title>
</head>
<body>
    <div class="grid-2">
        <div class="section-1">
            <i class="fas fa-code fa-5x white"></i>
            <h2>Dark Mode</h2>
            <p>Javascript Bookmark</p>
        </div>
        <div class="section-2">
            <a class="bmark" href='javascript:(function(){function inv(o){var n=o.split("("),r=n[1].split(")")[0].split(",");return r.forEach(function(o,n){n<3&&(r[n]=255-parseInt(o))}),r=r.join(","),n[0]+"("+r+")"}document.querySelectorAll("*").forEach(function(o){var n=window.getComputedStyle(o);o.style.backgroundColor=inv(n.backgroundColor),o.style.color=inv(n.color)});})();'>Add Book Mark</a>
            <h2>About</h2>
            <p>Convert most website to Dark Mode using just book mark. Right click above button and select "Add Link to Bookmark". Select this bookmark on any website to change it to dark mode.
                <note>*Latest Chrome Don't Support JS Bookmarks.</note>
            </p>
            <h2>Code</h2>
            <p class="code">
                <pre>
                    //invert color and skip transparency value
                    function invert(str){
                      var t1 = str.split("(");
                      var t2 = t1[1].split(")");
                      var t3 = t2[0].split(",");
                      t3.forEach(function(v,i){
                       if(i<3){
                        t3[i] = 255 - parseInt(v);
                       }
                      })
                      t3 = t3.join(",");
                      return t1[0]+"("+t3+")";
                    }
                    //invert color and backgroundcolor of every dom node
                    document.querySelectorAll('*').forEach(function(node) {
                        var style  = window.getComputedStyle(node);
                        node.style.backgroundColor = invert(style.backgroundColor);
                       node.style.color = invert(style.color);
                    });
                </pre>
            </p>
            <h2>Contact</h2>
            <p>
                <div class="soc">
                    <a href="https://github.com/sanketmehta7" target="_blank"><i class="fab fa-github"></i></a>
                </div>
            </p>
        </div>
    </div>
</body>
</html>