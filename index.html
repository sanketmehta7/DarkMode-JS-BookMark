<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <title>Dark Mode : Javascript Bookmark</title>
</head>
<body>
    <div class="grid-2">
        <div class="section-1">
            <span class="emoj">ðŸŒ“</span>
            <h2>Dark Mode</h2>
            <p>Javascript Bookmark</p>
            <a href="https://github.com/sanketmehta7" target="_blank"><i class="fab fa-github"></i></a>
            <!-- Place this tag where you want the button to render. -->
            <a class="github-button" href="https://github.com/sanketmehta7/DarkMode-JS-BookMark" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="octicon-star" data-size="large" aria-label="Star sanketmehta7/DarkMode-JS-BookMark on GitHub">Star</a>
            <div class="ytBox">
                <div class="ytplayer">
                    <div id="ytplayer"></div>
                </div>
            </div>
            <script>
              // Load the IFrame Player API code asynchronously.
              var tag = document.createElement('script');
              tag.src = "https://www.youtube.com/player_api";
              var firstScriptTag = document.getElementsByTagName('script')[0];
              firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

              // Replace the 'ytplayer' element with an <iframe> and
              // YouTube player after the API code downloads.
              var player;
              function onYouTubePlayerAPIReady() {
                player = new YT.Player('ytplayer', {
                  height: '200',
                  width: '355',
                  videoId: 'sOXiF-uXi1E',
                  controls:0 ,
                  showinfo:0
                });
              }
            </script>
        </div>
        <div class="section-2">
            <a class="bmark" href='javascript:(function(){function invert(o,t){var r=o.split("("),n=r[1].split(")")[0].split(",");return n.forEach(function(o,r){r<3&&(n[r]="color"==t&&255-parseInt(o)<50?120:255-parseInt(o))}),n=n.join(","),r[0]+"("+n+")"}document.querySelectorAll("*:not([invTouch])").forEach(function(o){var t=window.getComputedStyle(o);o.style.backgroundColor=invert(t.backgroundColor,"back"),o.style.color=invert(t.color,"color"),o.setAttribute("invTouch","true")});})();'>DarkMode : Add Book Mark</a>
            <h2>About</h2>
            <p>Convert most website to Dark Mode using just book mark. <span class="dragme">Drag Above Button To Bookmark bar.</span> Select this bookmark on any website to change it to dark mode.
                <note>*Some Browsers Don't Support JS Bookmarks.</note>
            </p>
            <h2>Code</h2>
            <p class="code">
                <div class="tit">Copy & Add manually:</div>
                <br/>
                <div class="codeB">
                    javascript:(function(){function invert(o,t){var r=o.split("("),n=r[1].split(")")[0].split(",");return n.forEach(function(o,r){r<3&&(n[r]="color"==t&&255-parseInt(o)<50?120:255-parseInt(o))}),n=n.join(","),r[0]+"("+n+")"}document.querySelectorAll("*:not([invTouch])").forEach(function(o){var t=window.getComputedStyle(o);o.style.backgroundColor=invert(t.backgroundColor,"back"),o.style.color=invert(t.color,"color"),o.setAttribute("invTouch","true")});})();
                </div>
                <br/>
                <br/>
                <hr/>
                <div class="tit">Exact code</div>
                <pre class="hidden">
//invert color and skip transparency value
function invert(str,type){
  var t1 = str.split("(");
  var t2 = t1[1].split(")");
  var t3 = t2[0].split(",");
  t3.forEach(function(v,i){
   if(i<3){
    if(type=="color")
        t3[i] = (255 - parseInt(v))<50?120:(255 - parseInt(v));
    else
        t3[i] = (255 - parseInt(v));
   }
  })
  t3 = t3.join(",");
  return t1[0]+"("+t3+")";
}
//invert color and backgroundcolor of every dom node
document.querySelectorAll('*:not([invTouch])').forEach(function(node) {
    var style  = window.getComputedStyle(node);
    node.style.backgroundColor = invert(style.backgroundColor,"back");
    node.style.color = invert(style.color,"color");
    node.setAttribute("invTouch", "true");
});
                </pre>

            </p>
        </div>
    </div>
</body>
</html>